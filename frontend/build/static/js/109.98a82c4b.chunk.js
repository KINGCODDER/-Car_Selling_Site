"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[109],{1455:function(e,n,a){a.r(n),a.d(n,{default:function(){return T}});var s=a(1413),t=a(9439),i=a(2791),o=a(9585),r=a(3400),l=a(6043),c=a(1027),d=a(3786),m=a(3044),h=a(7064),u=a(4721),p=a(7849),g=a(9646),x=a(6614),f=a(6205),j=a(2620),v=a(8680),b=a(6183),N=a(1862),_=a(6453),C=a(521),w=a(4942),k=a(4945),Z=a(4554),y=a(5931),S=a(6125),L=a.p+"static/media/signup.122d1ba20918d1897106.gif",A=a.p+"static/media/login.d49fb7cd0e7f19b55e34.gif",z=a(1243),I=a(5218),E=a(2756),P=a(184);var F=function(e){var n=e.showCmd,a=e.handleClose,o=(0,i.useContext)(E.Z).setLoginState,r=(0,i.useState)(!0),l=(0,t.Z)(r,2),c=l[0],d=l[1],m=(0,i.useState)({email:"",password:""}),h=(0,t.Z)(m,2),u=h[0],p=h[1],g=(0,i.useState)({f_name:"",l_name:"",email:"",password:"",passwordConfirm:"",profile_name:""}),x=(0,t.Z)(g,2),f=x[0],j=x[1],v=function(e){p((0,s.Z)((0,s.Z)({},u),{},(0,w.Z)({},e.target.name,e.target.value)))},b=function(e){"signup"===e?(d(!1),document.getElementById("container").classList.remove("right-panel-active")):(d(!0),document.getElementById("container").classList.add("right-panel-active"))},N=function(e){e.preventDefault();var n=I.Am.loading("Signing you in....");z.Z.post("".concat("https://car-selling-site.vercel.app/","/auth/signup"),f).then((function(e){localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),o(!0),I.Am.success("Signup successfull",{id:n}),a()})).catch((function(e){I.Am.error("".concat(e.response.data.message),{id:n})}))},_=function(e){j((0,s.Z)((0,s.Z)({},f),{},(0,w.Z)({},e.target.name,e.target.value)))},C=function(e){e.preventDefault();var n=I.Am.loading("Loggin you in....");e.preventDefault(),z.Z.post("".concat("https://car-selling-site.vercel.app/","/auth/login"),u).then((function(e){localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),o(!0),I.Am.success("Logged in successfully",{id:n}),a()})).catch((function(e){I.Am.error("".concat(e.response.data.message),{id:n})}))};return(0,P.jsxs)("div",{children:[window.innerWidth>768&&(0,P.jsx)(k.Z,{open:n,onClose:a,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",closeAfterTransition:!0,children:(0,P.jsxs)(Z.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",height:"80%",bgcolor:"#FFFCF5",boxShadow:24,borderRadius:"28px"},children:[(0,P.jsxs)("div",{className:"close-container",onClick:a,children:[(0,P.jsx)("div",{className:"leftright signup close-symbol"}),(0,P.jsx)("div",{className:"rightleft signup close-symbol"}),(0,P.jsx)("label",{className:"close",children:"close"})]}),(0,P.jsxs)("div",{className:"container",id:"container",children:[(0,P.jsx)("div",{className:"right-content content_login form-container sign-in-container",children:(0,P.jsxs)("form",{action:"",className:"login__form",children:[(0,P.jsxs)("h2",{className:"heading",children:["Welcome Back,",(0,P.jsx)("br",{})," Log In"]}),(0,P.jsx)("input",{value:u.email,className:"form__input",type:"email",name:"email",id:"",onChange:v,placeholder:"Email",required:!0}),(0,P.jsx)("input",{value:u.password,className:"form__input",type:"password",name:"password",onChange:v,id:"",minlength:"8",placeholder:"Password",required:!0}),(0,P.jsxs)("div",{className:"extra-links input__box",children:[(0,P.jsx)("a",{href:"/#",children:"forgot password?"}),(0,P.jsx)("a",{href:"/#",onClick:function(){return b("login")},children:"Signup ?"})]}),(0,P.jsx)("button",{type:"submit",className:"form__submit",onClick:function(e){return C(e)},children:"Log In"})]})}),(0,P.jsx)("div",{className:"left-content content_signup form-container sign-up-container",children:(0,P.jsxs)("form",{action:"",className:"login__form",children:[(0,P.jsxs)("h2",{className:"heading",children:["Start your journey,",(0,P.jsx)("br",{})," Sign up"]}),(0,P.jsxs)("div",{className:"input__box",children:[(0,P.jsx)("input",{type:"text",value:f.f_name,name:"f_name",className:"form__input",placeholder:"First Name",onChange:_,required:!0}),(0,P.jsx)("input",{type:"text",value:f.l_name,className:"form__input",name:"l_name",onChange:_,placeholder:"Last Name"})]}),(0,P.jsx)("input",{value:f.email,className:"form__input",type:"email",name:"email",id:"",onChange:_,placeholder:"Email",required:!0}),(0,P.jsx)("input",{value:f.profile_name,className:"form__input",type:"text",name:"profile_name",id:"",onChange:_,placeholder:"Username",required:!0}),(0,P.jsx)("input",{value:f.password,className:"form__input",type:"password",name:"password",onChange:_,id:"",minlength:"8",placeholder:"Password",required:!0}),(0,P.jsx)("input",{value:u.passwordConfirm,className:"form__input",type:"password",name:"passwordConfirm",onChange:_,id:"",minlength:"8",placeholder:"Confirm Password",required:!0}),(0,P.jsx)("div",{className:"extra-links input__box",children:(0,P.jsx)("a",{href:"/#",onClick:function(){return b("signup")},children:"Log in?"})}),(0,P.jsx)("button",{type:"submit",className:"form__submit",onClick:N,children:"Sign up"})]})}),(0,P.jsx)("div",{className:"overlay-container",children:(0,P.jsxs)("div",{className:"overlay",children:[(0,P.jsx)("div",{className:"left-content overlay-panel content_login overlay-left",children:(0,P.jsx)("img",{src:L,alt:""})}),(0,P.jsx)("div",{className:"right-content overlay-panel content_signup overlay-right",children:(0,P.jsx)("img",{src:A,alt:""})})]})})]})]})}),window.innerWidth<768&&(0,P.jsx)(k.Z,{open:n,onClose:a,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",closeAfterTransition:!0,children:(0,P.jsx)(y.Z,{direction:"up",in:n,children:(0,P.jsxs)(Z.Z,{sx:{position:"absolute",bottom:0,left:"6px",transform:"translate(-50%, 0)",width:"97%",height:"fit-content",bgcolor:"#FFFCF5",boxShadow:24,borderRadius:"28px 28px 0px 0px"},children:[(0,P.jsxs)("div",{className:"close-container",onClick:a,children:[(0,P.jsx)("div",{className:"leftright signup close-symbol",style:{backgroundColor:"#FFC107"}}),(0,P.jsx)("div",{className:"rightleft signup close-symbol",style:{backgroundColor:"#FFC107"}}),(0,P.jsx)("label",{className:"close",children:"close"})]}),(0,P.jsx)("div",{className:"container",id:"container",children:c?(0,P.jsx)(S.Z,{in:c,children:(0,P.jsx)("div",{className:"",children:(0,P.jsxs)("form",{action:"",className:"login__form",style:{padding:"17px"},children:[(0,P.jsxs)("h2",{className:"heading",children:["Welcome Back,",(0,P.jsx)("br",{})," Log In"]}),(0,P.jsx)("input",{value:u.email,className:"form__input",type:"email",name:"email",id:"",onChange:v,placeholder:"Email",required:!0}),(0,P.jsx)("input",{value:u.password,className:"form__input",type:"password",name:"password",onChange:v,id:"",minlength:"8",placeholder:"Password",required:!0}),(0,P.jsxs)("div",{className:"extra-links input__box",children:[(0,P.jsx)("a",{href:"/#",children:"forgot password?"}),(0,P.jsx)("a",{href:"/#",onClick:function(){return d(!1)},children:"Signup ?"})]}),(0,P.jsx)("button",{type:"submit",className:"form__submit",onClick:function(e){return C(e)},children:"Log In"})]})})}):(0,P.jsx)("div",{children:(0,P.jsxs)("form",{action:"",className:"login__form",children:[(0,P.jsxs)("h2",{className:"heading",children:["Start your journey,",(0,P.jsx)("br",{})," Sign up"]}),(0,P.jsxs)("div",{className:"input__box",children:[(0,P.jsx)("input",{type:"text",value:f.f_name,name:"f_name",className:"form__input",placeholder:"First Name",onChange:_,required:!0}),(0,P.jsx)("input",{type:"text",value:f.l_name,className:"form__input",name:"l_name",onChange:_,placeholder:"Last Name"})]}),(0,P.jsx)("input",{value:f.email,className:"form__input",type:"email",name:"email",id:"",onChange:_,placeholder:"Email",required:!0}),(0,P.jsx)("input",{value:f.profile_name,className:"form__input",type:"text",name:"profile_name",id:"",onChange:_,placeholder:"Username",required:!0}),(0,P.jsx)("input",{value:f.password,className:"form__input",type:"password",name:"password",onChange:_,id:"",minlength:"8",placeholder:"Password",required:!0}),(0,P.jsx)("input",{value:u.passwordConfirm,className:"form__input",type:"password",name:"passwordConfirm",onChange:_,id:"",minlength:"8",placeholder:"Confirm Password",required:!0}),(0,P.jsx)("div",{className:"extra-links input__box",children:(0,P.jsx)("a",{href:"/#",onClick:function(){return d(!0)},children:"Log in?"})}),(0,P.jsx)("button",{type:"submit",className:"form__submit",onClick:N,children:"Sign up"})]})})})]})})})]})},q=a(1608),O=a(7689);var T=function(){var e=(0,i.useContext)(E.Z),n=e.setLoginState,a=e.loginState,w=e.selectedChat,k=e.notification,Z=e.setNotification,y=e.setSelectedChat,S=e.loggedIn,L=e.setLoggedIn,A=e.selectedPage,I=e.setSelectedPage,T=(0,O.s0)(),M=(0,i.useState)(null),W=(0,t.Z)(M,2),B=W[0],R=W[1],D=(0,i.useState)(null),G=(0,t.Z)(D,2),H=G[0],U=G[1],Y=(0,i.useState)(!1),J=(0,t.Z)(Y,2),K=J[0],Q=J[1],V=Boolean(B),X=Boolean(H),$=(0,O.TH)(),ee=function(){return Q(!1)},ne=function(e){R(e.currentTarget)},ae=function(){R(null)},se=function(){U(null)},te=function(e){var n,a=0;for(n=0;n<e.length;n+=1)a=e.charCodeAt(n)+((a<<5)-a);var s="#";for(n=0;n<3;n+=1){s+="00".concat((a>>8*n&255).toString(16)).slice(-2)}return s},ie=function(){n(!1),L(!1),localStorage.removeItem("token"),T("/")},oe=function(e){return{sx:{bgcolor:te(e)},children:"".concat(e.charAt(0).toUpperCase())}};return(0,i.useEffect)((function(){q.ZP.connect("https://car-selling-site.vercel.app/"),w}),[w]),(0,i.useEffect)((function(){localStorage.getItem("token")?z.Z.get("".concat("https://car-selling-site.vercel.app/","/auth/me"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){L(e.data.user)})):L(!1)}),[a]),(0,i.useEffect)((function(){}),[window.innerWidth]),(0,P.jsxs)("div",{children:[(0,P.jsx)(F,{showCmd:K,handleClose:ee}),window.innerWidth>768&&(0,P.jsx)("nav",{className:"navbar navbar-expand-lg bg-transparent",children:(0,P.jsxs)("div",{className:"container-fluid",children:[(0,P.jsx)(o.E.a,{className:"navbar-brand font-type-1",whileHover:{scale:1.2,rotate:-5,transition:{duration:.5}},href:"/",children:"CAR RENTAL"}),(0,P.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,P.jsx)("span",{className:"navbar-toggler-icon"})}),(0,P.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown",children:[(0,P.jsxs)("ul",{className:"navbar-nav",children:[(0,P.jsx)("li",{className:"nav-item",children:(0,P.jsx)("a",{className:"nav-link ".concat("/"===$.pathname?"active":""),"aria-current":"page",href:"/",children:"How it works?"})}),(0,P.jsx)("li",{className:"nav-item",children:(0,P.jsx)("a",{className:"nav-link",href:"/car-space",children:"Car List"})}),S&&(0,P.jsx)("li",{className:"nav-item",children:(0,P.jsx)("a",{className:"nav-link ".concat("/messages"===$.pathname?"active":""),href:"/messages",children:"Messages"})})]}),!S&&(0,P.jsx)("button",{onClick:function(){return Q(!0)},type:"button",className:"btn btn-warning btn-navbar",children:"Get Started"}),S&&(0,P.jsxs)("div",{className:"profile-part",children:[(0,P.jsxs)("div",{className:"login-info",children:[(0,P.jsx)(r.Z,{onClick:function(e){U(e.currentTarget)},size:"small",sx:{ml:2},"aria-controls":X?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":X?"true":void 0,children:0===k.length?(0,P.jsx)(j.Z,{sx:{color:"#212529",width:30,height:30}}):(0,P.jsx)(l.Z,{badgeContent:k.length,color:"primary",children:(0,P.jsx)(v.Z,{sx:{color:"#212529",width:30,height:30}})})}),0===k.length?(0,P.jsx)(c.Z,{anchorEl:H,id:"account-menu",open:X,onClose:se,onClick:se,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",color:"black",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:(0,P.jsx)(d.Z,{onClick:ee,children:(0,P.jsx)("span",{className:"menu-title",children:"No Notifications"})})}):(0,P.jsx)(c.Z,{anchorEl:H,id:"account-menu",open:X,onClose:se,onClick:se,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",color:"black",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:k.map((function(e,n){return(0,P.jsx)(d.Z,{onClick:function(){y(e.chat),Z(k.filter((function(n){return n!==e}))),T("/messages")},children:(0,P.jsxs)("span",{className:"menu-title",children:["New Message From ",null===e||void 0===e?void 0:e.sender.profile_name]})},n)}))})]}),(0,P.jsxs)("div",{className:"login-info",children:[(0,P.jsx)(r.Z,{onClick:ne,size:"small",sx:{ml:2},"aria-controls":V?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":V?"true":void 0,children:(0,P.jsx)(m.Z,(0,s.Z)({},oe(S.f_name+" "+S.l_name)))}),(0,P.jsx)("span",{children:S.profile_name}),(0,P.jsxs)(c.Z,{anchorEl:B,id:"account-menu",open:V,onClose:ae,onClick:ae,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",color:"black",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[(0,P.jsxs)(d.Z,{onClick:ee,children:[(0,P.jsx)(h.Z,{children:(0,P.jsx)(x.Z,{fontSize:"small"})}),(0,P.jsx)("span",{className:"menu-title",children:"Setting"}),"Settings"]}),(0,P.jsx)(u.Z,{}),(0,P.jsxs)(d.Z,{onClick:ie,sx:{color:"black"},children:[(0,P.jsx)(h.Z,{children:(0,P.jsx)(f.Z,{sx:{color:"#ff7730"},fontSize:"small"})}),(0,P.jsx)("span",{className:"Logout",children:"Logout"})]})]})]})]})]})]})}),window.innerWidth<=768&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:"application-name",children:(0,P.jsx)("div",{className:"heading font-type-1",style:{fontWeight:700,fontSize:28,marginTop:"14px",position:"".concat("/messages"===$.pathname?"fixed":""),width:"100%"},children:"CAR CENTRAL"})}),(0,P.jsxs)(p.Z,{sx:{height:"80px",borderRadius:0},showLabels:!0,value:A,onChange:function(e,n){I(n)},children:[(0,P.jsx)(g.Z,{label:"HOME",value:"home",icon:(0,P.jsx)(b.Z,{sx:{width:40,height:40}}),onClick:function(){return T("/")}}),(0,P.jsx)(g.Z,{label:"CATALOG",value:"catalog",icon:(0,P.jsx)(_.Z,{sx:{width:40,height:40}})}),(0,P.jsx)(g.Z,{label:"MESSAGES",onClick:function(){return T("/messages")},value:"message",icon:(0,P.jsx)(N.Z,{sx:{width:40,height:40}})}),S?(0,P.jsx)(g.Z,{value:"account",label:"ACCOUNT",onClick:ne,icon:(0,P.jsx)(m.Z,(0,s.Z)({sx:{width:10,height:10}},oe(S.profile_name)))}):(0,P.jsx)(g.Z,{value:"account",label:"LOGIN",onClick:function(){return Q(!0)},icon:(0,P.jsx)(C.Z,{sx:{width:40,height:40}})}),(0,P.jsxs)(c.Z,{anchorEl:B,id:"account-menu",open:V,onClose:ae,onClick:ae,PaperProps:{elevation:0,sx:{bottom:"74px !important",top:"auto !important",overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",bottom:-10,right:14,width:10,height:10,bgcolor:"background.paper",color:"black",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[(0,P.jsxs)(d.Z,{onClick:ee,children:[(0,P.jsx)(h.Z,{children:(0,P.jsx)(x.Z,{fontSize:"small"})}),(0,P.jsx)("span",{className:"menu-title",children:"Setting"}),"Settings"]}),(0,P.jsx)(u.Z,{}),(0,P.jsxs)(d.Z,{onClick:ie,sx:{color:"black"},children:[(0,P.jsx)(h.Z,{children:(0,P.jsx)(f.Z,{sx:{color:"#ff7730"},fontSize:"small"})}),(0,P.jsx)("span",{className:"Logout",children:"Logout"})]})]})]})]})]})}}}]);
//# sourceMappingURL=109.98a82c4b.chunk.js.map